<!DOCTYPE html>
<html>

<head>

</head>

<body>

    <div id="container">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
        <div id="wins"></div>
        <div id="losses"></div>
        <div id="ties"></div>
        <div id="computerChoice"></div>
        <div id="roundStatus"></div>


    </div>

    <script>

        let rock = "rock"
        let paper = "paper"
        let scissors = "scissors"

        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function rockPaperScis (x){ //helps figure out what the computer is playing
            if (x == 1) {
                return rock;
            }
            else if (x == 2) {
                return paper;
            }
            else {
                return scissors;
            }

        }

        let win = 0;
        let loss = 0;
        let tie = 0;

        const winsContainer = document.querySelector('#wins');
        winsContainer.textContent = `Wins: ${win}`;
        const lossContainer = document.querySelector('#losses');
        lossContainer.textContent = `Losses: ${loss}`;
        const tieContainer = document.querySelector('#ties')
        tieContainer.textContent = `Ties: ${tie}`;
        const computerContainer = document.querySelector("#computerChoice")
        computerContainer.textContent =`The computer chose:`;
        const roundContainer = document.querySelector("#roundStatus");

        function computerPlay() {
            let randomNumber = getRndInteger(1, 4);
            let computerTurn = rockPaperScis(randomNumber);
            console.log(computerTurn);
            return computerTurn;
        }

        const rockButton = document.querySelector('#rock');
        rockButton.addEventListener('click', () => {
        return game(rock);
    
        });

        const scissorsButton = document.querySelector('#scissors');
        scissorsButton.addEventListener('click', () => {
        return game(scissors);
    
        });

        const paperButton = document.querySelector('#paper');
        paperButton.addEventListener('click', () => {
        return game(paper);
    
        });
        
        




        function playerPlay(e) {

            
            let playerturn = e;
            console.log(playerTurn);
            return playerTurn;

        }




        function round(x, y) {


            if (x == y) {
                return "Tie"

            }
            else if (x == rock && y == scissors) {
                return "Winner";

            }
            else if (x == scissors && y == paper) {
                return "Winner";

            }
            else if (x == paper && y == rock) {
                return "Winner";

            }
            else {
                return "Loser";

            }
        }






        function game(a) {


            let rounds = 1;
            if (a!=null){ //stops the game from starting initially before player can input
            for (i = 0; i < rounds; i++) {
                let computerSelected = computerPlay();
                let playerSelected = a;

                currentRound = round(playerSelected, computerSelected)
                console.log(currentRound);
                if (currentRound == "Winner") {
                    win=win+1;
                    winsContainer.textContent = `Wins: ${win}`;
                    computerContainer.textContent=`The computer chose: ${computerSelected} last round`;
                    roundContainer.textContent="You won this round!"
                    if(win>= 5){
                        alert("You win!");
                        newGame();
                    }


                }
                else if (currentRound == "Tie") {
                    tie=tie+1;
                    tieContainer.textContent = `Ties: ${tie}`;
                    computerContainer.textContent=`The computer chose: ${computerSelected} last round`;
                    roundContainer.textContent="You tied this round!"
                }
                else if (currentRound=="Loser") {
                    loss=loss+1;
                    lossContainer.textContent = `Losses: ${loss}`;
                    computerContainer.textContent=`The computer chose: ${computerSelected} last round`;
                    roundContainer.textContent="You lost this round!"
                    if (loss>=5){
                        alert("You lose!")
                        newGame();
                    }
                }


            }
            if (win > loss) {
                return "You WON!";
            }
            else if (win == loss) {
                return "you TIED!";
            }
            else {
                return "you LOST";
            }
        }
        }


        console.log(game());

        function newGame (){
            loss =0;
            win=0;
            tie=0;
            lossContainer.textContent = `Losses: ${loss}`;
            tieContainer.textContent = `Ties: ${tie}`;
            winsContainer.textContent = `Wins: ${win}`;
        }


    </script>

</body>

</html>